{% if isSelfRegistrationEnabled() %}
    <div id="register-form">
    <form action="{{ path('fos_user_registration_register') }}" {{ form_enctype(form) }} method="post" class="form-horizontal fos_user_registration_register" autocomplete="off">
        <div class="legend">
            <p class="warning text-left">
                {{ 'registration.warning_required' | trans({}, 'messages') }}
            </p>
        </div>

        <div class="tab-pane fade active in" id="step1">
            <div class="form-group">
                <label class="col-md-3 control-label required" for="fos_user_registration_form_lastName">
                    {{ 'user.name' | trans({}, 'messages') }}
                </label>
                <div class="col-md-4">
                    <input value="{{ form.vars.value.lastName }}" class="form-control" id="fos_user_registration_form_lastName" type="text"  required="required" name="fos_user_registration_form[lastName]">
                </div>
                <div class="col-md-offset-5">
                    {{ form_errors(form.lastName) }}
                </div>
            </div>
            <div class="form-group">
                <label class="col-md-3 control-label required" for="fos_user_registration_form_firstName">
                    {{ 'user.firstname' | trans({}, 'messages') }}
                </label>
                <div class="col-md-4">
                    <input value="{{ form.vars.value.firstName }}" class="form-control" id="fos_user_registration_form_firstName" type="text" required="required" name="fos_user_registration_form[firstName]">
                </div>
                <div class="col-md-offset-5">
                    {{ form_errors(form.firstName) }}
                </div>
            </div>
            <div class="form-group">
                <span class="form-error">{{ form_errors(form.email) }}</span>
                <label class="col-md-3 control-label required" for="fos_user_registration_form_email">
                    {{ 'user.email' | trans({}, 'messages') }}
                </label>
                <div class="col-md-4">
                    <input value="{{ form.vars.value.email }}" class="form-control" id="fos_user_registration_form_email" type="email" required="required" name="fos_user_registration_form[email]">
                </div>
                <div class="col-md-offset-5">
                </div>
            </div>

            <div class="form-group">
                <span class="form-error">{{ form_errors(form.institution) }}</span>
                <label class="col-md-3 control-label required" for="fos_user_registration_form_institution">
                    {{ 'registration.institution' | trans({}, 'messages') }}
                </label>
                <div class="col-md-4">
                    {{ form_widget(form.institution, { 'attr': {'class': 'form-control'} }) }}
                </div>
                <div class="col-md-offset-5">
                </div>
            </div>

            <div class="form-group">
                {{ form_errors(form.course) }}
                <label class="col-md-3 control-label required" for="fos_user_registration_form_course">
                    {{ 'registration.course' | trans({}, 'messages') }}
                </label>
                <div class="col-md-4">
                    {{ form_widget(form.course, { 'attr': {'class': 'form-control'} }) }}
                </div>
                <div class="col-md-offset-5">
                </div>
            </div>

            <div class="form-group">
                {{ form_errors(form.year) }}
                <label class="col-md-3 control-label required" for="fos_user_registration_form_year">
                    {{ 'registration.year' | trans({}, 'messages') }}
                </label>
                <div class="col-md-4">
                    {{ form_widget(form.year, { 'attr': {'class': 'form-control'} }) }}
                </div>
                <div class="col-md-offset-5">
                </div>
            </div>

            <div class="form-group">
                <span class="form-error">{{ form_errors(form.username) }}</span>
                <label class="col-md-3 control-label required" for="fos_user_registration_form_username">
                    {{ 'registration.username' | trans({}, 'messages') }}
                </label>
                <div class="col-md-4">
                    <input value="{{ form.vars.value.username }}" class="form-control" id="fos_user_registration_form_username" type="text" maxlength="255" required="required" name="fos_user_registration_form[username]">
                </div>
                <div class="col-md-offset-5">
                </div>
            </div>
            <div class="form-group">
                <span class="form-error">{{ form_errors(form.plainPassword.first) }}</span>
                <label class="col-md-3 control-label required" for="fos_user_registration_form_plainPassword_first">
                    {{ 'registration.password' | trans({}, 'messages') }}
                </label>
                <div class="col-md-4">
                    <input class="form-control" id="fos_user_registration_form_plainPassword_first" type="password" required="required" name="fos_user_registration_form[plainPassword][first]">
                </div>
                <div class="col-md-offset-5">
                </div>
            </div>
            <div class="form-group">
                <label class="col-md-3 control-label required" for="fos_user_registration_form_plainPassword_second">
                    {{ 'registration.password_confirmation' | trans({}, 'messages') }}
                </label>
                <div class="col-md-4">
                    <input class="form-control" id="fos_user_registration_form_plainPassword_second" type="password" required="required" name="fos_user_registration_form[plainPassword][second]">
                </div>
                <div class="col-md-offset-5">
                </div>
            </div>

            <div class="form-group">
                {{ form_widget(form._token) }}
                <div class="col-md-offset-4 col-md-8">
                    <input type="submit" id="_submit" name="_submit" value="{{ 'generic.validate' | trans({}, 'messages') }}" class="btn btn-primary"/>
                </div>
            </div>

        </div>
    </form>
    </div>
{% else %}
    <div class="alert alert-danger" role="alert">
        <span class="glyphicon glyphicon-info-sign"></span> Auto-inscription désactivée.
    </div>
{% endif %}
