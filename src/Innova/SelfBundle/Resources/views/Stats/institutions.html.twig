{% extends '::base.html.twig' %}

{% block body -%}
    <h3>{{ 'menu.stats' | trans }} - Institutions</h3>

    <div class="input-group">
        <span class="input-group-addon">{{ 'generic.filter' | trans }} </span>
        <input type="text" id="search" class="form-control" value="">
    </div>
    <br/>

    <table id="data-table" class="table table-striped">
        <thead>
            <tr>
                <th>{{ 'editor.session.name' | trans }}</th>
                <th>{{ 'stats.usercount' | trans }}</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
    		{% for data_institution in data_institutions %}
    			<tr>
    				<td>
    					{{ data_institution.name }}
    				</td>
    				<td>
                        {{ data_institution.usercount }}
    				</td>
                    <td class="text-right">
                        <a class="btn btn-default" href="{{ path('stats_courses', { 'institutionId': data_institution.id }) }}">
                            <span class="glyphicon glyphicon-zoom-in"></span>
                        </a>
    				</td>
    			</tr>
    		{% endfor %}
        </tbody>
    </table>
{% endblock %}


{% block javascripts %}
    {{ parent() }}

    {% javascripts filter='yui_js' output='js/compiled/stats.js'
        '@InnovaSelfBundle/Resources/public/js/lib/jquery.quicksearch.js'
        '@InnovaSelfBundle/Resources/public/js/stats.js'
    %}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}

{% endblock %}
