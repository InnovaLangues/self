<!-- Avril 2014 : affichage en ordre fixe ou pas. EV. -->
{% set propositions = subquestion.propositions | shuffle %}

{% if questionnaire.fixedOrder %}
    {% set propositions = subquestion.propositions %}
{% endif %}

<div class="col-md-7 propositions-CO">
    {% for i, proposition in propositions %}
        {% set bulleCount = i + 1 %}
        <div class="proposition-CO">
            {{ macros.inputs(subquestion, proposition) }}
            {% if proposition.media.mediaType.name == "audio" %}
                {{ macros.audio("proposition-"~ proposition.id, proposition.media, "audio"~bulleCount~".png", 90, 0, 'player.tooltip.proposition' | trans ) }}
            {% elseif proposition.media.mediaType.name == "texte" %}
                {#Â #490 Demande de Cristiana : pour les vrai/faux, afficher une zone moins grande. ERV. #}
                {% set vraifaux = proposition.media.description|lower %}
                {{ vraifaux }}
                {% set myArray = ["vrai", "faux", "nd"] %}
                {% if vraifaux in myArray %}
                    <label for="input-proposition{{ proposition.id }}" class="proposition-CO-text proposition-text-vraifaux">
                    {{ macros.translateVF(proposition.media.description) }}
                    </label>
                {% else %}
                    <label for="input-proposition{{ proposition.id }}" class="proposition-CO-text">
                    {{ macros.translateVF(proposition.media.description) }}
                    </label>
                {% endif %}
            {% elseif proposition.media.mediaType.name == "image" %}
                {{ macros.image(proposition.media.id, proposition.media, 'player.tooltip.enlarge' | trans, 110) }}
                {{ macros.modale(proposition.media.id, proposition.media, 'player.tooltip.enlarge' | trans) }}
            </label>
            {% endif %}
        </div>
    {% endfor %}
</div>
