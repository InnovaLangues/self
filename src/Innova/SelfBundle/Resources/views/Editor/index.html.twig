{% extends '::base.html.twig' %}

{% block stylesheets %}
    <link href="{{ asset("bundles/innovaself/css/player.css") }}" rel="stylesheet" />
{% endblock %}

{% block body -%}
    {% import "InnovaSelfBundle:Editor:common/macros.html.twig" as macros %}
    
    <a class="btn btn-default" href="{{ path('editor_questionnaire_list') }}">
        <span class="glyphicon glyphicon-chevron-left"></span> Retour Ã  la liste
    </a>
    <img id="loader-img" style="display:none;" src="{{ asset('bundles/innovaself/images/loader.gif') }}"/>
    
    <input type="hidden" id="questionnaire-id" value="{{ questionnaire.id }}"/>
    <input type="hidden" id="entity-id" value=""/>
    <input type="hidden" id="entity-type" value=""/>
    <input type="hidden" id="entity-field" value=""/>
    <input type="hidden" id="entity-to-be-reloaded" value=""/>
    <hr/>

    <div id="" class="row">
        <div class="col-md-12">
            {% include "InnovaSelfBundle:Editor/partials:general-infos.html.twig" %}
        </div>
        <div class="col-md-4">
            {% include "InnovaSelfBundle:Editor/partials:contexte.html.twig" %}
            {% include "InnovaSelfBundle:Editor/partials:texte.html.twig" %}
        </div>
        <div class="col-md-8">
            {% include "InnovaSelfBundle:Editor/partials:subquestions.html.twig" %}
        </div>
    </div>

    {% include "InnovaSelfBundle:Editor/common:modal.html.twig" %}
    
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        {% if questionnaire.mediaContext is null %}
        var questionnaireHasContext = false;
        {% else %}
        var questionnaireHasContext = true;
        {% endif %}
    </script>

    <script type="text/javascript" src="{{ asset("bundles/innovaself/js/player.js") }}"></script>
    <script type="text/javascript" src="{{ asset("bundles/innovaself/js/dragAndDrop.js") }}"></script>
    <script type="text/javascript" src="{{ asset("bundles/innovaself/js/editor.js") }}"></script>
    {{ tinymce_init() }}
{% endblock %}
