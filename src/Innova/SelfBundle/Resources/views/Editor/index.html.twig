{% extends '::base.html.twig' %}

{% block stylesheets %}
    <link href="{{ asset("bundles/innovaself/css/player.css") }}" rel="stylesheet" />
{% endblock %}

{% block body -%}
    {% import "InnovaSelfBundle:Editor:common/macros.html.twig" as macros %}
    
    <a class="btn btn-default" href="{{ path('editor_questionnaire_list') }}">
        <span class="glyphicon glyphicon-chevron-left"></span> Retour à la liste
    </a>
    
    <input type="hidden" id="questionnaire-id" value="{{ questionnaire.id }}"/>

    <input type="hidden" id="entity-id" value=""/>
    <input type="hidden" id="entity-type" value=""/>
    <input type="hidden" id="entity-field" value=""/>
    <hr/>

    {% include "InnovaSelfBundle:Editor/partials:theme.html.twig" %}


    <div id="item-container" class="row">
        {% include "InnovaSelfBundle:Editor/partials:contexte.html.twig" %}

    </div>

    {# Compteur n° de la tâche #}
    {% include "InnovaSelfBundle:Editor/common:compteur.html.twig" %}

    {% include "InnovaSelfBundle:Editor/common:modal.html.twig" %}
    
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        {% if questionnaire.mediaContext is null %}
        var questionnaireHasContext = false;
        {% else %}
        var questionnaireHasContext = true;
        {% endif %}
    </script>

    <script type="text/javascript" src="{{ asset("bundles/innovaself/js/player.js") }}"></script>
    <script type="text/javascript" src="{{ asset("bundles/innovaself/js/dragAndDrop.js") }}"></script>
    <script type="text/javascript" src="{{ asset("bundles/innovaself/js/editor.js") }}"></script>
    {{ tinymce_init() }}
{% endblock %}
