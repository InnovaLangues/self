sudo: false

language: php

php:
  - 5.4
  - 5.5
  - 5.6
  - 7

before_script: 
  - cp app/config/parameters.yml.travis app/config/parameters.yml
  - composer install --prefer-source
  - php app/console doctrine:database:create --env=test
  - php app/console doctrine:schema:create --env=test
  - php app/console doctrine:fixtures:load -n --env=test

script:
    - phpunit -c app

notifications:
  webhooks:
    urls:
      - https://webhooks.gitter.im/e/9f8cb52137601de70421
    on_success: change  # options: [always|never|change] default: always
    on_failure: always  # options: [always|never|change] default: always
    on_start: never     # options: [always|never|change] default: always
